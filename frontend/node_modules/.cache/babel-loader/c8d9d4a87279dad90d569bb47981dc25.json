{"ast":null,"code":"import _regeneratorRuntime from\"/home/rahimgng/vscode/admin-dashboard/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/rahimgng/vscode/admin-dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/rahimgng/vscode/admin-dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{InputGroup,ButtonGroup,Card,Table,Button,FormControl}from\"react-bootstrap\";import axios from\"axios\";import ToastComponent from\"./ToastComponent\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProjectList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),projects=_useState2[0],setProjects=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(5),_useState8=_slicedToArray(_useState7,1),projectsPerPage=_useState8[0];var lastIndex=currentPage*projectsPerPage;var firstIndex=lastIndex-projectsPerPage;var currentProjects=projects.slice(firstIndex,lastIndex);var totalPages=Math.ceil(projects.length/projectsPerPage);// for get data\nvar getProject=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(\"http://localhost:8080/project/get\").then(function(res){return setProjects(res.data);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getProject(){return _ref.apply(this,arguments);};}();useEffect(function(){getProject();},[projects]);// delete data with spesific id\nvar deleteProject=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(projectId){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.delete(\"http://localhost:8080/project/ \".concat(projectId)).then(function(res){if(res.data!=null){setShow(true);setTimeout(function(){return setShow(false);},1500);}else{setShow(false);}});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteProject(_x){return _ref2.apply(this,arguments);};}();// Button pagination stuff\nvar firstPage=function firstPage(){if(currentPage>1){setCurrentPage(1);}};var prevPage=function prevPage(){if(currentPage>1){setCurrentPage(currentPage-1);}};var lastPage=function lastPage(){if(currentPage<Math.ceil(projects.length/projectsPerPage)){setCurrentPage(Math.ceil(projects.length/projectsPerPage));}};var nextPage=function nextPage(){if(currentPage<Math.ceil(projects.length/projectsPerPage)){setCurrentPage(currentPage+1);}};// formcontrol page number control stuff\nvar changePage=function changePage(e){setCurrentPage(e.target.value<=totalPages?e.target.value:totalPages);};return/*#__PURE__*/_jsxs(\"div\",{style:{heigth:\"100px\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:show?\"block\":\"none\"},children:/*#__PURE__*/_jsx(ToastComponent,{children:{show:show,message:\"Project Deleted!\",type:\"danger\"}})}),/*#__PURE__*/_jsxs(Card,{className:\"border border-dark bg-dark text-white\",style:{margin:\"45px 0\"},children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Project List\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,variant:\"dark\",children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",children:\"Project\"})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Project Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cost\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]}),/*#__PURE__*/_jsx(\"tr\",{})]}),/*#__PURE__*/_jsx(\"tbody\",{children:projects.length===0?/*#__PURE__*/_jsx(\"tr\",{align:\"center\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",children:\"No Projects Available..\"})}):currentProjects.map(function(project){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:project.projectName}),/*#__PURE__*/_jsx(\"td\",{children:project.cost}),/*#__PURE__*/_jsx(\"td\",{children:project.time}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Link,{to:\"/edit-project/\"+project.id,className:\"btn btn-sm btn-outline-primary\",children:\"edit\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline-danger\",onClick:function onClick(){return deleteProject(project.id);},children:\"delete\"})]})})]},project.id);})})]})}),/*#__PURE__*/_jsxs(Card.Footer,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{float:\"left\"},children:[\" \",currentPage,\" of \",totalPages]}),/*#__PURE__*/_jsx(\"div\",{style:{float:\"right\"},children:/*#__PURE__*/_jsxs(InputGroup,{size:\"sm\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline-info\",disabled:currentPage===1?true:false,onClick:firstPage,children:\"First\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline-info\",disabled:currentPage===1?true:false,onClick:prevPage,children:\"Prev\"}),/*#__PURE__*/_jsx(FormControl,{style:{textAlign:\"center\",width:\"40px\",color:\"white\"},className:\"bg-dark\",name:\"currentPage\",defaultValue:currentPage,onChange:changePage}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline-info\",disabled:currentPage===totalPages?true:false,onClick:nextPage,children:\"Next\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline-info\",disabled:currentPage===totalPages?true:false,onClick:lastPage,children:\"Last\"})]})})]})]})]});}export default/*#__PURE__*/React.memo(ProjectList);","map":{"version":3,"sources":["/home/rahimgng/vscode/admin-dashboard/src/component/ProjectList.js"],"names":["React","useEffect","useState","InputGroup","ButtonGroup","Card","Table","Button","FormControl","axios","ToastComponent","Link","ProjectList","projects","setProjects","show","setShow","currentPage","setCurrentPage","projectsPerPage","lastIndex","firstIndex","currentProjects","slice","totalPages","Math","ceil","length","getProject","then","res","data","deleteProject","projectId","delete","setTimeout","firstPage","prevPage","lastPage","nextPage","changePage","e","target","value","heigth","display","message","type","margin","map","project","projectName","cost","time","id","float","textAlign","width","color","memo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  InputGroup,\n  ButtonGroup,\n  Card,\n  Table,\n  Button,\n  FormControl,\n} from \"react-bootstrap\";\nimport axios from \"axios\";\nimport ToastComponent from \"./ToastComponent\";\nimport { Link } from \"react-router-dom\";\n\nfunction ProjectList() {\n  const [projects, setProjects] = useState([]);\n  const [show, setShow] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [projectsPerPage] = useState(5);\n\n  const lastIndex = currentPage * projectsPerPage;\n  const firstIndex = lastIndex - projectsPerPage;\n  const currentProjects = projects.slice(firstIndex, lastIndex);\n  const totalPages = Math.ceil(projects.length / projectsPerPage);\n\n  // for get data\n  const getProject = async () => {\n    await axios(\"http://localhost:8080/project/get\").then((res) =>\n      setProjects(res.data)\n    );\n  };\n  useEffect(() => {\n    getProject();\n  }, [projects]);\n\n  // delete data with spesific id\n  const deleteProject = async (projectId) => {\n    await axios\n      .delete(`http://localhost:8080/project/ ${projectId}`)\n      .then((res) => {\n        if (res.data != null) {\n          setShow(true);\n          setTimeout(() => setShow(false), 1500);\n        } else {\n          setShow(false);\n        }\n      });\n  };\n\n  // Button pagination stuff\n  const firstPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(1);\n    }\n  };\n  const prevPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const lastPage = () => {\n    if (currentPage < Math.ceil(projects.length / projectsPerPage)) {\n      setCurrentPage(Math.ceil(projects.length / projectsPerPage));\n    }\n  };\n  const nextPage = () => {\n    if (currentPage < Math.ceil(projects.length / projectsPerPage)) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  // formcontrol page number control stuff\n  const changePage = (e) => {\n    setCurrentPage(e.target.value <= totalPages ? e.target.value : totalPages);\n  };\n\n  return (\n    <div style={{ heigth: \"100px\" }}>\n      <div style={{ display: show ? \"block\" : \"none\" }}>\n        <ToastComponent\n          children={{ show: show, message: \"Project Deleted!\", type: \"danger\" }}\n        />\n      </div>\n\n      <Card\n        className={\"border border-dark bg-dark text-white\"}\n        style={{ margin: \"45px 0\" }}\n      >\n        <Card.Header>Project List</Card.Header>\n        <Card.Body>\n          <Table striped bordered hover variant=\"dark\">\n            <thead>\n              <tr>\n                <td colSpan=\"4\">Project</td>\n              </tr>\n              <tr>\n                <th>Project Name</th>\n                <th>Cost</th>\n                <th>Time</th>\n                <th>Actions</th>\n              </tr>\n              <tr></tr>\n            </thead>\n            <tbody>\n              {projects.length === 0 ? (\n                <tr align=\"center\">\n                  <td colSpan=\"5\">No Projects Available..</td>\n                </tr>\n              ) : (\n                currentProjects.map((project) => (\n                  <tr key={project.id}>\n                    <td>{project.projectName}</td>\n                    <td>{project.cost}</td>\n                    <td>{project.time}</td>\n                    <td>\n                      <ButtonGroup>\n                        <Link\n                          to={\"/edit-project/\" + project.id}\n                          className=\"btn btn-sm btn-outline-primary\"\n                        >\n                          edit\n                        </Link>\n\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline-danger\"\n                          onClick={() => deleteProject(project.id)}\n                        >\n                          delete\n                        </Button>\n                      </ButtonGroup>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </Table>\n        </Card.Body>\n        <Card.Footer>\n          <div style={{ float: \"left\" }}>\n            {\" \"}\n            {currentPage} of {totalPages}\n          </div>\n          <div style={{ float: \"right\" }}>\n            <InputGroup size=\"sm\">\n              <Button\n                type=\"button\"\n                variant=\"outline-info\"\n                disabled={currentPage === 1 ? true : false}\n                onClick={firstPage}\n              >\n                First\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"outline-info\"\n                disabled={currentPage === 1 ? true : false}\n                onClick={prevPage}\n              >\n                Prev\n              </Button>\n\n              <FormControl\n                style={{\n                  textAlign: \"center\",\n                  width: \"40px\",\n                  color: \"white\",\n                }}\n                className={\"bg-dark\"}\n                name=\"currentPage\"\n                defaultValue={currentPage}\n                onChange={changePage}\n              />\n\n              <Button\n                type=\"button\"\n                variant=\"outline-info\"\n                disabled={currentPage === totalPages ? true : false}\n                onClick={nextPage}\n              >\n                Next\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"outline-info\"\n                disabled={currentPage === totalPages ? true : false}\n                onClick={lastPage}\n              >\n                Last\n              </Button>\n            </InputGroup>\n          </div>\n        </Card.Footer>\n      </Card>\n    </div>\n  );\n}\n\nexport default React.memo(ProjectList);\n"]},"metadata":{},"sourceType":"module"}